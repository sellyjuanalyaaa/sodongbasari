import{c as V,u as W,a as X,j as t,H as Y,r as Z}from"./app-CrmMqnB5.js";import{A as ee}from"./AdminLayout-Bitoa4Xs.js";import{B as J}from"./button-OX9M7RU7.js";import{I as K}from"./input-BoqwSKiJ.js";import{L as $}from"./label-kAPKKTce.js";import{b as te,c as le,d as se,C as ae,a as ie}from"./card-DjQqN06y.js";import{A as re,a as oe,b as ne,c as ce,d as me,e as de,f as he,g as xe,h as ge}from"./alert-dialog-Bil7EYfZ.js";import{U as pe}from"./upload-BscEhBwm.js";import{L as fe}from"./loader-circle-DvhvujdM.js";import{T as ue}from"./trash-2-DSjXocyC.js";/* empty css            */import"./dropdown-menu-KojNudpi.js";import"./createLucideIcon-CesneU__.js";import"./index-BKKi3CpQ.js";import"./index-cMc5SGJG.js";import"./index-A1s1aBtT.js";import"./index-Bj2YKP-Q.js";import"./users-Cu7aLI-a.js";import"./file-text-BzMvM9Ie.js";import"./building-2-BF7E2rul.js";function Ie(r){const e=V.c(64),{images:o}=r;let A;e[0]===Symbol.for("react.memo_cache_sentinel")?(A={title:"",image:null},e[0]=A):A=e[0];const{data:a,setData:n,post:G,processing:c,errors:s,reset:R}=W(A),[H,O]=X.useState(null);let U;e[1]!==n?(U=i=>{const l=i.target.files?.[0];if(l){if(console.log("Hero Image Selected:",{name:l.name,size:l.size,type:l.type,sizeInMB:(l.size/1024/1024).toFixed(2)+" MB"}),l.size>15728640){console.error("File too large:",l.size),alert(`File terlalu besar (${(l.size/1024/1024).toFixed(2)} MB). Maksimal 15MB.`);return}n("image",l);const Q=URL.createObjectURL(l);O(Q)}},e[1]=n,e[2]=U):U=e[2];const I=U;let z;e[3]!==a.image||e[4]!==a.title||e[5]!==G||e[6]!==R?(z=i=>{i.preventDefault(),console.log("Hero Upload Started:",{hasImage:!!a.image,title:a.title,imageSize:a.image?a.image.size:0}),G(route("admin.hero.store"),{onSuccess:()=>{console.log("Hero Upload Success"),R(),O(null)},onError:ve,onFinish:be})},e[3]=a.image,e[4]=a.title,e[5]=G,e[6]=R,e[7]=z):z=e[7];const T=z,q=je;let L;e[8]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(Y,{title:"Pengaturan Slider"}),e[8]=L):L=e[8];let k;e[9]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Slider Hero"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Kelola gambar slider yang tampil di halaman depan website desa."})]}),e[9]=k):k=e[9];let B;e[10]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs(te,{children:[t.jsx(le,{children:"Upload Gambar Baru"}),t.jsx(se,{children:"Format: JPG, PNG. Max 15MB. Rasio Landscape Disarankan."})]}),e[10]=B):B=e[10];let m;e[11]!==s.image?(m=s.image&&t.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-sm font-semibold text-red-800",children:"Upload Gagal"}),t.jsx("p",{className:"text-sm text-red-700 mt-1",children:s.image})]})]})}),e[11]=s.image,e[12]=m):m=e[12];let F;e[13]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx($,{htmlFor:"title",className:"text-gray-900 font-semibold",children:"Judul (Opsional)"}),e[13]=F):F=e[13];let d;e[14]!==n?(d=i=>n("title",i.target.value),e[14]=n,e[15]=d):d=e[15];let h;e[16]!==a.title||e[17]!==d?(h=t.jsx(K,{id:"title",value:a.title,onChange:d,placeholder:"Contoh: Pemandangan Desa"}),e[16]=a.title,e[17]=d,e[18]=h):h=e[18];let x;e[19]!==s.title?(x=s.title&&t.jsx("p",{className:"text-sm text-red-500",children:s.title}),e[19]=s.title,e[20]=x):x=e[20];let g;e[21]!==h||e[22]!==x?(g=t.jsxs("div",{className:"space-y-2",children:[F,h,x]}),e[21]=h,e[22]=x,e[23]=g):g=e[23];let M;e[24]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx($,{htmlFor:"image",className:"text-gray-900 font-semibold",children:"Pilih Gambar"}),e[24]=M):M=e[24];let p;e[25]!==H?(p=H?t.jsx("img",{src:H,alt:"Preview",className:"absolute inset-0 w-full h-full object-cover"}):t.jsxs("div",{className:"text-center text-gray-400",children:[t.jsx(pe,{className:"h-10 w-10 mx-auto mb-2"}),t.jsx("span",{className:"text-sm",children:"Klik untuk upload"})]}),e[25]=H,e[26]=p):p=e[26];let f;e[27]!==I?(f=t.jsx(K,{id:"image",type:"file",accept:"image/*",onChange:I,className:"absolute inset-0 opacity-0 cursor-pointer h-full",required:!0}),e[27]=I,e[28]=f):f=e[28];let u;e[29]!==p||e[30]!==f?(u=t.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-6 flex flex-col items-center justify-center bg-gray-50 relative overflow-hidden min-h-[200px]",children:[p,f]}),e[29]=p,e[30]=f,e[31]=u):u=e[31];let j;e[32]!==s.image?(j=s.image&&t.jsx("p",{className:"text-sm text-red-500",children:s.image}),e[32]=s.image,e[33]=j):j=e[33];let b;e[34]!==u||e[35]!==j?(b=t.jsxs("div",{className:"space-y-2",children:[M,u,j]}),e[34]=u,e[35]=j,e[36]=b):b=e[36];let v;e[37]!==c?(v=c&&t.jsx(fe,{className:"mr-2 h-4 w-4 animate-spin"}),e[37]=c,e[38]=v):v=e[38];let N;e[39]!==c||e[40]!==v?(N=t.jsxs(J,{type:"submit",disabled:c,className:"w-full bg-orange-600 hover:bg-orange-700 text-white",children:[v,"Upload Slider"]}),e[39]=c,e[40]=v,e[41]=N):N=e[41];let y;e[42]!==T||e[43]!==g||e[44]!==b||e[45]!==N?(y=t.jsxs("form",{onSubmit:T,className:"space-y-4",children:[g,b,N]}),e[42]=T,e[43]=g,e[44]=b,e[45]=N,e[46]=y):y=e[46];let S;e[47]!==y||e[48]!==m?(S=t.jsxs(ae,{children:[B,t.jsxs(ie,{children:[m,y]})]}),e[47]=y,e[48]=m,e[49]=S):S=e[49];let P;e[50]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("h3",{className:"text-lg font-semibold",children:"Gambar Aktif"}),e[50]=P):P=e[50];let _;e[51]!==o.length?(_=o.length===0&&t.jsx("p",{className:"text-muted-foreground text-sm",children:"Belum ada gambar slider."}),e[51]=o.length,e[52]=_):_=e[52];let w;if(e[53]!==o){let i;e[55]===Symbol.for("react.memo_cache_sentinel")?(i=l=>t.jsxs("div",{className:"group relative rounded-lg border bg-white shadow-sm overflow-hidden aspect-video",children:[t.jsx("img",{src:l.image_path,alt:l.title,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:t.jsxs(re,{children:[t.jsx(oe,{asChild:!0,children:t.jsxs(J,{variant:"destructive",size:"sm",children:[t.jsx(ue,{className:"h-4 w-4 mr-1"})," Hapus"]})}),t.jsxs(ne,{children:[t.jsxs(ce,{children:[t.jsx(me,{children:"Hapus gambar ini?"}),t.jsx(de,{children:"Gambar akan dihapus dari slider halaman depan."})]}),t.jsxs(he,{children:[t.jsx(xe,{children:"Batal"}),t.jsx(ge,{onClick:()=>q(l.id),className:"bg-red-600",children:"Hapus"})]})]})]})}),l.title&&t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white p-2 text-xs truncate",children:l.title})]},l.id),e[55]=i):i=e[55],w=o.map(i),e[53]=o,e[54]=w}else w=e[54];let C;e[56]!==w?(C=t.jsx("div",{className:"grid gap-4",children:w}),e[56]=w,e[57]=C):C=e[57];let D;e[58]!==_||e[59]!==C?(D=t.jsxs("div",{className:"space-y-4",children:[P,_,C]}),e[58]=_,e[59]=C,e[60]=D):D=e[60];let E;return e[61]!==S||e[62]!==D?(E=t.jsxs(ee,{title:"Pengaturan Slider",children:[L,k,t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[S,D]})]}),e[61]=S,e[62]=D,e[63]=E):E=e[63],E}function je(r){Z.delete(route("admin.hero.destroy",r),{preserveScroll:!0})}function be(){console.log("Hero Upload Finished")}function ve(r){console.error("Hero Upload Error:",r);const e=r.image||Object.values(r)[0]||"Upload gagal";alert("Error Upload: "+e)}export{Ie as default};
