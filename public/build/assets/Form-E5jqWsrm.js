import{c as de,u as ge,a as fe,j as t,L as le,H as xe}from"./app-DQUxQvgT.js";import{I as he,A as ue}from"./AdminLayout-C0t8S76d.js";import{B as oe}from"./button-BBHMRfTz.js";import{I as ce}from"./input-BDUt4wJO.js";import{L as $}from"./label-CwnBO5Qy.js";import{T as pe}from"./textarea-CgGJcZ5-.js";import{S as be,a as je,b as ye,c as Ne,d as ve}from"./select-BYmhla82.js";import{C as _e,a as we}from"./card-yTDBMXbW.js";import{A as Se}from"./arrow-left-8DYhhuy3.js";import{L as Be}from"./loader-circle-pROncHSy.js";/* empty css            */import"./dropdown-menu-BRMvXWPj.js";import"./createLucideIcon-DYcecOJv.js";import"./index-BhiF9xve.js";import"./index-n9WBgOee.js";import"./index-lsmdkFhq.js";import"./index-BDJ0OOCa.js";import"./users-DaKjhObk.js";import"./file-text-DFCTJSRc.js";import"./building-2-BOrsnq4-.js";import"./index-BiLF94fh.js";import"./check-BjhyRiVI.js";function We(E){const e=de.c(89),{post:r,categories:U}=E,i=!!r,Q=r?.title||"";let c;e[0]!==r?.category_id?(c=r?.category_id?.toString()||"",e[0]=r?.category_id,e[1]=c):c=e[1];const W=r?.content||"",X=i?"PUT":"POST";let A;e[2]!==Q||e[3]!==c||e[4]!==W||e[5]!==X?(A={title:Q,category_id:c,content:W,image:null,_method:X},e[2]=Q,e[3]=c,e[4]=W,e[5]=X,e[6]=A):A=e[6];const{data:l,setData:a,post:G,processing:n,errors:s}=ge(A),[R,ne]=fe.useState(r?.image_path||null);let M;e[7]!==a?(M=o=>{const ie=o.target.files?.[0];if(ie){a("image",ie);const me=URL.createObjectURL(ie);ne(me)}},e[7]=a,e[8]=M):M=e[8];const Y=M;let q;e[9]!==i||e[10]!==r||e[11]!==G?(q=o=>{o.preventDefault(),G(i?route("admin.posts.update",r.id):route("admin.posts.store"))},e[9]=i,e[10]=r,e[11]=G,e[12]=q):q=e[12];const Z=q,ee=i?"Edit Berita":"Tambah Berita",te=i?"Edit Berita":"Tambah Berita";let m;e[13]!==te?(m=t.jsx(xe,{title:te}),e[13]=te,e[14]=m):m=e[14];let z;e[15]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(oe,{variant:"outline",size:"icon",asChild:!0,className:"border-gray-200 hover:bg-gray-100",children:t.jsx(le,{href:route("admin.posts.index"),children:t.jsx(Se,{className:"h-4 w-4"})})}),e[15]=z):z=e[15];const se=i?"Edit Berita":"Tambah Berita Baru";let d;e[16]!==se?(d=t.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:se}),e[16]=se,e[17]=d):d=e[17];const ae=i?"Perbarui informasi berita dan artikel.":"Isi form untuk membuat berita atau artikel baru.";let g;e[18]!==ae?(g=t.jsx("p",{className:"text-gray-500 mt-1",children:ae}),e[18]=ae,e[19]=g):g=e[19];let f;e[20]!==d||e[21]!==g?(f=t.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[z,t.jsxs("div",{children:[d,g]})]}),e[20]=d,e[21]=g,e[22]=f):f=e[22];let D;e[23]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx($,{htmlFor:"title",className:"text-gray-900 font-semibold",children:"Judul Berita"}),e[23]=D):D=e[23];let x;e[24]!==a?(x=o=>a("title",o.target.value),e[24]=a,e[25]=x):x=e[25];let h;e[26]!==l.title||e[27]!==x?(h=t.jsx(ce,{id:"title",value:l.title,onChange:x,placeholder:"Masukkan judul berita...",required:!0,className:"border-gray-200 focus:border-orange-500 focus:ring-orange-200 text-gray-900"}),e[26]=l.title,e[27]=x,e[28]=h):h=e[28];let u;e[29]!==s.title?(u=s.title&&t.jsx("p",{className:"text-sm text-red-500",children:s.title}),e[29]=s.title,e[30]=u):u=e[30];let p;e[31]!==h||e[32]!==u?(p=t.jsxs("div",{className:"space-y-2",children:[D,h,u]}),e[31]=h,e[32]=u,e[33]=p):p=e[33];let H;e[34]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx($,{htmlFor:"category",className:"text-gray-900 font-semibold",children:"Kategori"}),e[34]=H):H=e[34];let b;e[35]!==U||e[36]!==l.category_id||e[37]!==a?(b=U&&U.length>0?t.jsxs(be,{value:l.category_id,onValueChange:o=>a("category_id",o),children:[t.jsx(je,{className:"border-gray-200 focus:ring-orange-200",children:t.jsx(ye,{placeholder:"Pilih Kategori"})}),t.jsx(Ne,{className:"bg-white border-gray-100",children:U.map(Ce)})]}):t.jsxs("div",{className:"text-sm text-gray-500 p-3 bg-yellow-50 border border-yellow-200 rounded",children:["Belum ada kategori. ",t.jsx(le,{href:route("admin.categories.create"),className:"text-orange-600 hover:underline",children:"Buat kategori terlebih dahulu"}),"."]}),e[35]=U,e[36]=l.category_id,e[37]=a,e[38]=b):b=e[38];let j;e[39]!==s.category_id?(j=s.category_id&&t.jsx("p",{className:"text-sm text-red-500",children:s.category_id}),e[39]=s.category_id,e[40]=j):j=e[40];let y;e[41]!==b||e[42]!==j?(y=t.jsxs("div",{className:"space-y-2",children:[H,b,j]}),e[41]=b,e[42]=j,e[43]=y):y=e[43];let J;e[44]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx($,{htmlFor:"content",className:"text-gray-900 font-semibold",children:"Isi Berita"}),e[44]=J):J=e[44];let N;e[45]!==a?(N=o=>a("content",o.target.value),e[45]=a,e[46]=N):N=e[46];let v;e[47]!==l.content||e[48]!==N?(v=t.jsx(pe,{id:"content",rows:10,value:l.content,onChange:N,placeholder:"Tulis isi berita di sini...",className:"resize-y border-gray-200 focus:border-orange-500 focus:ring-orange-200",required:!0}),e[47]=l.content,e[48]=N,e[49]=v):v=e[49];let _;e[50]!==s.content?(_=s.content&&t.jsx("p",{className:"text-sm text-red-500",children:s.content}),e[50]=s.content,e[51]=_):_=e[51];let w;e[52]!==v||e[53]!==_?(w=t.jsxs("div",{className:"space-y-2",children:[J,v,_]}),e[52]=v,e[53]=_,e[54]=w):w=e[54];let K;e[55]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx($,{htmlFor:"image",className:"text-gray-900 font-semibold",children:"Gambar Unggulan (Thumbnail)"}),e[55]=K):K=e[55];let S;e[56]!==R?(S=t.jsx("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-4 flex flex-col items-center justify-center w-full max-w-xs h-40 bg-gray-50 relative overflow-hidden",children:R?t.jsx("img",{src:R,alt:"Preview",className:"absolute inset-0 w-full h-full object-cover"}):t.jsxs("div",{className:"text-center text-gray-400",children:[t.jsx(he,{className:"h-8 w-8 mx-auto mb-2"}),t.jsx("span",{className:"text-xs",children:"No image selected"})]})}),e[56]=R,e[57]=S):S=e[57];let B;e[58]!==Y?(B=t.jsx(ce,{id:"image",type:"file",accept:"image/*",onChange:Y,className:"cursor-pointer border-gray-200 focus:ring-orange-200"}),e[58]=Y,e[59]=B):B=e[59];let O;e[60]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("p",{className:"text-xs text-gray-500",children:"Format: JPG, PNG, GIF. Max 2MB."}),e[60]=O):O=e[60];let C;e[61]!==s.image?(C=s.image&&t.jsx("p",{className:"text-sm text-red-500",children:s.image}),e[61]=s.image,e[62]=C):C=e[62];let P;e[63]!==B||e[64]!==C?(P=t.jsxs("div",{className:"space-y-2 flex-1",children:[B,O,C]}),e[63]=B,e[64]=C,e[65]=P):P=e[65];let T;e[66]!==S||e[67]!==P?(T=t.jsxs("div",{className:"space-y-2",children:[K,t.jsxs("div",{className:"flex gap-4 items-start",children:[S,P]})]}),e[66]=S,e[67]=P,e[68]=T):T=e[68];let k;e[69]!==n?(k=n&&t.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),e[69]=n,e[70]=k):k=e[70];const re=i?"Simpan Perubahan":"Terbitkan Berita";let L;e[71]!==n||e[72]!==k||e[73]!==re?(L=t.jsx("div",{className:"flex justify-end pt-4",children:t.jsxs(oe,{type:"submit",disabled:n,className:"w-full sm:w-auto bg-orange-600 hover:bg-orange-700 text-white",children:[k,re]})}),e[71]=n,e[72]=k,e[73]=re,e[74]=L):L=e[74];let I;e[75]!==p||e[76]!==y||e[77]!==w||e[78]!==T||e[79]!==L?(I=t.jsx(_e,{className:"bg-white border-gray-100 shadow-sm",children:t.jsxs(we,{className:"p-6 space-y-6",children:[p,y,w,T,L]})}),e[75]=p,e[76]=y,e[77]=w,e[78]=T,e[79]=L,e[80]=I):I=e[80];let F;e[81]!==Z||e[82]!==I?(F=t.jsx("form",{onSubmit:Z,className:"max-w-4xl",children:I}),e[81]=Z,e[82]=I,e[83]=F):F=e[83];let V;return e[84]!==m||e[85]!==f||e[86]!==F||e[87]!==ee?(V=t.jsxs(ue,{title:ee,children:[m,f,F]}),e[84]=m,e[85]=f,e[86]=F,e[87]=ee,e[88]=V):V=e[88],V}function Ce(E){return t.jsx(ve,{value:E.id.toString(),children:E.name},E.id)}export{We as default};
