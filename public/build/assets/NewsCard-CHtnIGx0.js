import{a as l,j as e,L as p,f as j}from"./app-CrmMqnB5.js";import{s as d}from"./SvgDecorations-CwGZwy9W.js";function N({post:t,likedPosts:x=[]}){const i="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='400' viewBox='0 0 600 400'%3E%3Crect fill='%23f1f5f9' width='600' height='400'/%3E%3Cg fill='%2394a3b8'%3E%3Cpath d='M240 180h120v40H240zm-60 60h240v16H180z'/%3E%3Ccircle cx='280' cy='140' r='20'/%3E%3C/g%3E%3Ctext x='300' y='210' font-family='system-ui' font-size='16' fill='%23475569' text-anchor='middle'%3EBerita%3C/text%3E%3C/svg%3E",[h,m]=l.useState(t.likes_count||0),[n,u]=l.useState(x.includes(t.id)),[o,c]=l.useState(!1),f=async r=>{if(r.preventDefault(),r.stopPropagation(),!o){c(!0);try{const s=await j.post(d("news.like",t.id));m(s.data.likes_count),u(s.data.is_liked)}catch(s){console.error("Error toggling like:",s)}finally{c(!1)}}},g=(r,s=150)=>{const a=r.replace(/<[^>]*>/g,"").replace(/\s+/g," ").trim();return a.length>s?a.substring(0,s)+"...":a};return e.jsxs(p,{href:d("news.show",t.slug),className:"group bg-white rounded-lg overflow-hidden flex flex-col h-full hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"h-56 overflow-hidden relative bg-slate-100",children:[e.jsx("img",{src:t.image_path||i,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:r=>{r.currentTarget.src=i}}),e.jsx("div",{className:"absolute top-4 left-4",children:t.category&&e.jsx("span",{className:"px-3 py-1.5 text-white text-xs font-medium rounded-full backdrop-blur-sm shadow-sm",style:{backgroundColor:t.category.color||"#1e293b"},children:t.category.name})})]}),e.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[e.jsx("h3",{className:"text-base font-bold text-slate-900 mb-2 group-hover:text-[#EFA00B] transition-colors line-clamp-2",children:t.title}),e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed line-clamp-3 mb-4 flex-1",children:g(t.content,120)}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-xs",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("span",{className:"font-medium",children:"Administrator"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-[11px]",children:[e.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsxs("span",{children:[t.view_count||Math.floor(Math.random()*50)+10," views"]})]}),e.jsxs("button",{onClick:f,disabled:o,className:"flex items-center gap-1 text-[11px] hover:scale-110 transition-transform disabled:opacity-50",children:[e.jsx("svg",{className:`w-3.5 h-3.5 transition-colors ${n?"fill-red-500 text-red-500":"fill-none text-slate-400"}`,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),e.jsx("span",{className:n?"text-red-500 font-medium":"text-slate-400",children:h})]})]})]}),e.jsx("div",{className:"px-3 py-2 bg-[#EFA00B] text-white text-xs font-semibold rounded",children:new Date(t.published_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}).replace(".","")})]})]})]})}export{N};
