import{c as Ye,a as ke,u as Ae,j as t,H as Ee,L as Re}from"./app-DMtKA-Nz.js";import{A as Me}from"./AdminLayout-CmncWBYk.js";import{B as De}from"./button-D4yj1mcu.js";import{I as z}from"./input-Cy2RoUMp.js";import{L as $}from"./label-UB7U_9Ay.js";import{T as Be}from"./textarea-z5uXPf0R.js";import{A as Ke}from"./arrow-left-kPXKacFv.js";/* empty css            */import"./dropdown-menu-B6B730d0.js";import"./createLucideIcon-n5I_7hFI.js";import"./index-BWKgdrW9.js";import"./index-DJq00HA9.js";import"./index-DmofVQ4s.js";import"./index-CImSve6p.js";import"./users-C_XK7NoB.js";import"./file-text-B4y26wTp.js";import"./building-2-DSvtAuZ9.js";function lt(Pe){const e=Ye.c(126),{formerHead:s}=Pe,Te=ke.useRef(null),[J,Le]=ke.useState(s?.photo?`/storage/${s.photo}`:null),me=s?.name||"";let n;e[0]!==s?.start_year?(n=s?.start_year||new Date().getFullYear(),e[0]=s?.start_year,e[1]=n):n=e[1];let o;e[2]!==s?.end_year?(o=s?.end_year||new Date().getFullYear(),e[2]=s?.end_year,e[3]=o):o=e[3];const ce=s?.achievement||"",de=s?.order||0,he=s?"PUT":"POST";let O;e[4]!==me||e[5]!==n||e[6]!==o||e[7]!==ce||e[8]!==de||e[9]!==he?(O={name:me,start_year:n,end_year:o,achievement:ce,photo:null,order:de,_method:he},e[4]=me,e[5]=n,e[6]=o,e[7]=ce,e[8]=de,e[9]=he,e[10]=O):O=e[10];const{data:r,setData:l,post:fe,processing:q,errors:a}=Ae(O);let Q;e[11]!==l?(Q=i=>{const G=i.target.files?.[0];if(G){l("photo",G);const Se=new FileReader;Se.onloadend=()=>{Le(Se.result)},Se.readAsDataURL(G)}},e[11]=l,e[12]=Q):Q=e[12];const pe=Q;let V;e[13]!==s||e[14]!==fe?(V=i=>{i.preventDefault();const G=s?`/admin/former-village-heads/${s.id}`:"/admin/former-village-heads";fe(G)},e[13]=s,e[14]=fe,e[15]=V):V=e[15];const xe=V,ye=s?"Edit Riwayat Kepala Desa":"Tambah Riwayat Kepala Desa";let m;e[16]!==ye?(m=t.jsx(Ee,{title:ye}),e[16]=ye,e[17]=m):m=e[17];let W;e[18]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(Re,{href:"/admin/former-village-heads",children:t.jsx(De,{variant:"ghost",size:"sm",children:t.jsx(Ke,{className:"h-4 w-4"})})}),e[18]=W):W=e[18];const ue=s?"Edit Riwayat Kepala Desa":"Tambah Riwayat Kepala Desa";let c;e[19]!==ue?(c=t.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:ue}),e[19]=ue,e[20]=c):c=e[20];const _e=s?"Perbarui data mantan kepala desa":"Tambahkan data mantan kepala desa";let d;e[21]!==_e?(d=t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:_e}),e[21]=_e,e[22]=d):d=e[22];let h;e[23]!==c||e[24]!==d?(h=t.jsx("div",{className:"p-6 border-b border-slate-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[W,t.jsxs("div",{children:[c,d]})]})}),e[23]=c,e[24]=d,e[25]=h):h=e[25];let X;e[26]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx($,{htmlFor:"name",children:"Nama Lengkap *"}),e[26]=X):X=e[26];let f;e[27]!==l?(f=i=>l("name",i.target.value),e[27]=l,e[28]=f):f=e[28];const je=a.name?"border-red-500":"";let p;e[29]!==r.name||e[30]!==f||e[31]!==je?(p=t.jsx(z,{id:"name",value:r.name,onChange:f,className:je,placeholder:"Masukkan nama lengkap"}),e[29]=r.name,e[30]=f,e[31]=je,e[32]=p):p=e[32];let x;e[33]!==a.name?(x=a.name&&t.jsx("p",{className:"text-sm text-red-600",children:a.name}),e[33]=a.name,e[34]=x):x=e[34];let y;e[35]!==p||e[36]!==x?(y=t.jsxs("div",{className:"space-y-2",children:[X,p,x]}),e[35]=p,e[36]=x,e[37]=y):y=e[37];let Z;e[38]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx($,{htmlFor:"order",children:"Urutan"}),e[38]=Z):Z=e[38];let u;e[39]!==l?(u=i=>l("order",parseInt(i.target.value)||0),e[39]=l,e[40]=u):u=e[40];const ve=a.order?"border-red-500":"";let _;e[41]!==r.order||e[42]!==u||e[43]!==ve?(_=t.jsx(z,{id:"order",type:"number",value:r.order,onChange:u,className:ve,placeholder:"0"}),e[41]=r.order,e[42]=u,e[43]=ve,e[44]=_):_=e[44];let j;e[45]!==a.order?(j=a.order&&t.jsx("p",{className:"text-sm text-red-600",children:a.order}),e[45]=a.order,e[46]=j):j=e[46];let v;e[47]!==_||e[48]!==j?(v=t.jsxs("div",{className:"space-y-2",children:[Z,_,j]}),e[47]=_,e[48]=j,e[49]=v):v=e[49];let g;e[50]!==y||e[51]!==v?(g=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y,v]}),e[50]=y,e[51]=v,e[52]=g):g=e[52];let ee;e[53]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx($,{htmlFor:"start_year",children:"Tahun Mulai *"}),e[53]=ee):ee=e[53];const Ce=r.start_year;let b;e[54]!==l?(b=i=>l("start_year",parseInt(i.target.value)||new Date().getFullYear()),e[54]=l,e[55]=b):b=e[55];const ge=a.start_year?"border-red-500":"";let te;e[56]===Symbol.for("react.memo_cache_sentinel")?(te=new Date().getFullYear(),e[56]=te):te=e[56];let N;e[57]!==r.start_year||e[58]!==b||e[59]!==ge?(N=t.jsx(z,{id:"start_year",type:"number",value:Ce,onChange:b,className:ge,min:"1900",max:te}),e[57]=r.start_year,e[58]=b,e[59]=ge,e[60]=N):N=e[60];let w;e[61]!==a.start_year?(w=a.start_year&&t.jsx("p",{className:"text-sm text-red-600",children:a.start_year}),e[61]=a.start_year,e[62]=w):w=e[62];let F;e[63]!==N||e[64]!==w?(F=t.jsxs("div",{className:"space-y-2",children:[ee,N,w]}),e[63]=N,e[64]=w,e[65]=F):F=e[65];let ae;e[66]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx($,{htmlFor:"end_year",children:"Tahun Selesai *"}),e[66]=ae):ae=e[66];const Ie=r.end_year;let S;e[67]!==l?(S=i=>l("end_year",parseInt(i.target.value)||new Date().getFullYear()),e[67]=l,e[68]=S):S=e[68];const be=a.end_year?"border-red-500":"";let se;e[69]===Symbol.for("react.memo_cache_sentinel")?(se=new Date().getFullYear(),e[69]=se):se=e[69];let D;e[70]!==r.end_year||e[71]!==S||e[72]!==be?(D=t.jsx(z,{id:"end_year",type:"number",value:Ie,onChange:S,className:be,min:"1900",max:se}),e[70]=r.end_year,e[71]=S,e[72]=be,e[73]=D):D=e[73];let k;e[74]!==a.end_year?(k=a.end_year&&t.jsx("p",{className:"text-sm text-red-600",children:a.end_year}),e[74]=a.end_year,e[75]=k):k=e[75];let R;e[76]!==D||e[77]!==k?(R=t.jsxs("div",{className:"space-y-2",children:[ae,D,k]}),e[76]=D,e[77]=k,e[78]=R):R=e[78];let P;e[79]!==F||e[80]!==R?(P=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[F,R]}),e[79]=F,e[80]=R,e[81]=P):P=e[81];let le;e[82]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx($,{htmlFor:"achievement",children:"Prestasi / Pencapaian"}),e[82]=le):le=e[82];let T;e[83]!==l?(T=i=>l("achievement",i.target.value),e[83]=l,e[84]=T):T=e[84];const Ne=a.achievement?"border-red-500":"";let L;e[85]!==r.achievement||e[86]!==T||e[87]!==Ne?(L=t.jsx(Be,{id:"achievement",value:r.achievement,onChange:T,className:Ne,placeholder:"Deskripsikan prestasi atau pencapaian selama menjabat",rows:4}),e[85]=r.achievement,e[86]=T,e[87]=Ne,e[88]=L):L=e[88];let C;e[89]!==a.achievement?(C=a.achievement&&t.jsx("p",{className:"text-sm text-red-600",children:a.achievement}),e[89]=a.achievement,e[90]=C):C=e[90];let I;e[91]!==L||e[92]!==C?(I=t.jsxs("div",{className:"space-y-2",children:[le,L,C]}),e[91]=L,e[92]=C,e[93]=I):I=e[93];let re;e[94]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx($,{htmlFor:"photo",children:"Foto"}),e[94]=re):re=e[94];let Y;e[95]!==J?(Y=J&&t.jsx("div",{className:"flex-shrink-0",children:t.jsx("img",{src:J,alt:"Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-slate-200"})}),e[95]=J,e[96]=Y):Y=e[96];const we=a.photo?"border-red-500":"";let A;e[97]!==pe||e[98]!==we?(A=t.jsx(z,{ref:Te,id:"photo",type:"file",accept:"image/*",onChange:pe,className:we}),e[97]=pe,e[98]=we,e[99]=A):A=e[99];let E;e[100]!==a.photo?(E=a.photo&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:a.photo}),e[100]=a.photo,e[101]=E):E=e[101];let ie;e[102]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Format: JPG, PNG (Max: 2MB)"}),e[102]=ie):ie=e[102];let M;e[103]!==A||e[104]!==E?(M=t.jsxs("div",{className:"flex-1",children:[A,E,ie]}),e[103]=A,e[104]=E,e[105]=M):M=e[105];let B;e[106]!==Y||e[107]!==M?(B=t.jsxs("div",{className:"space-y-2",children:[re,t.jsxs("div",{className:"flex items-start gap-4",children:[Y,M]})]}),e[106]=Y,e[107]=M,e[108]=B):B=e[108];let ne;e[109]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(Re,{href:"/admin/former-village-heads",children:t.jsx(De,{type:"button",variant:"outline",children:"Batal"})}),e[109]=ne):ne=e[109];const Fe=q?"Menyimpan...":"Simpan";let K;e[110]!==q||e[111]!==Fe?(K=t.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-slate-200",children:[ne,t.jsx(De,{type:"submit",disabled:q,className:"bg-orange-500 hover:bg-orange-600 text-white",children:Fe})]}),e[110]=q,e[111]=Fe,e[112]=K):K=e[112];let H;e[113]!==xe||e[114]!==g||e[115]!==P||e[116]!==I||e[117]!==B||e[118]!==K?(H=t.jsxs("form",{onSubmit:xe,className:"p-6 space-y-6",children:[g,P,I,B,K]}),e[113]=xe,e[114]=g,e[115]=P,e[116]=I,e[117]=B,e[118]=K,e[119]=H):H=e[119];let U;e[120]!==h||e[121]!==H?(U=t.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm",children:[h,H]}),e[120]=h,e[121]=H,e[122]=U):U=e[122];let oe;return e[123]!==m||e[124]!==U?(oe=t.jsxs(Me,{children:[m,U]}),e[123]=m,e[124]=U,e[125]=oe):oe=e[125],oe}export{lt as default};
